# Output Spec 生成模板

Output Spec 规定下游 AI 的输出格式，减少"自作主张"和格式不统一。

---

## Output Spec 模板

```markdown
## Output Spec: [任务名称]

### 目标 AI 角色
[这份 Spec 是给谁的，例如：设计 AI / 研发 AI / 测试 AI]

---

### 输出格式要求

#### 格式类型
- [ ] Markdown
- [ ] JSON
- [ ] 表格
- [ ] 代码
- [ ] 其他：[说明]

#### 结构规范
```
[规定输出的结构，例如：]
# 标题
## 1. 第一部分
### 1.1 子部分
- 要点 1
- 要点 2
## 2. 第二部分
...
```

#### 长度限制
- 最小：[X] 字/行
- 最大：[Y] 字/行
- 建议：[Z] 字/行

#### 语言要求
- 语言：中文 / 英文 / [其他]
- 语气：正式 / 口语化 / 技术文档风格

---

### 必须包含项

| 项目 | 说明 | 必须/可选 |
|------|------|---------|
| [项目1] | [具体要求] | 必须 |
| [项目2] | [具体要求] | 必须 |
| [项目3] | [具体要求] | 可选 |

---

### 禁止包含项

- [ ] [禁止内容1]：原因
- [ ] [禁止内容2]：原因

---

### 输入/输出示例

#### 示例输入
```
[提供一个典型输入]
```

#### 期望输出
```
[提供期望的输出格式]
```

---

### 质量标准

| 维度 | 标准 | 权重 |
|------|------|------|
| 完整性 | 包含所有必须项 | 高 |
| 准确性 | 信息无错误 | 高 |
| 可读性 | 结构清晰易读 | 中 |
| 一致性 | 格式统一 | 中 |
```

---

## 常见角色的 Output Spec

### 设计 AI

```markdown
## Output Spec: UI 设计描述

### 输出格式：Markdown

### 必须包含项
| 项目 | 说明 |
|------|------|
| 页面布局 | 描述元素排列方式 |
| 交互流程 | 用户操作 → 系统响应 |
| 组件列表 | 使用的 UI 组件 |
| 异常状态 | 空状态/错误状态/加载状态 |
| 响应式 | 不同屏幕尺寸的适配 |

### 禁止包含
- 不要包含具体颜色值（使用设计系统定义）
- 不要包含像素尺寸（使用相对单位）

### 示例输出
```markdown
## 评论列表页面

### 布局
- 顶部：返回按钮 + 标题
- 中间：评论列表（无限滚动）
- 底部：评论输入框（固定）

### 交互流程
1. 用户下拉 → 刷新列表
2. 用户点击回复 → 弹出回复输入框
3. 用户提交评论 → 显示 loading → 插入新评论
```
```

### 研发 AI

```markdown
## Output Spec: 代码实现任务

### 输出格式：Markdown + 代码块

### 必须包含项
| 项目 | 说明 |
|------|------|
| 任务描述 | 要实现什么 |
| 接口定义 | API 路径/方法/参数/返回值 |
| 数据结构 | 涉及的数据模型 |
| 关键逻辑 | 核心算法或业务逻辑 |
| 测试要点 | 需要覆盖的测试场景 |

### 禁止包含
- 不要包含完整代码实现（只给接口和逻辑）
- 不要假设技术栈（使用 Context Pack 中的约束）

### 示例输出
```markdown
## 任务：实现评论发布接口

### 接口定义
- POST /api/v1/comments
- 参数：{ article_id, content, parent_id? }
- 返回：{ id, content, created_at, user }

### 数据结构
Comment { id, article_id, user_id, parent_id, content, created_at }

### 关键逻辑
1. 验证 article_id 存在
2. 敏感词过滤
3. 插入数据库
4. 返回完整评论对象
```
```

### 测试 AI

```markdown
## Output Spec: 测试用例

### 输出格式：表格

### 必须包含项
| 项目 | 说明 |
|------|------|
| 用例 ID | TC-001 格式 |
| 测试场景 | 正常/边界/异常 |
| 前置条件 | Given |
| 操作步骤 | When |
| 期望结果 | Then |
| 优先级 | P0/P1/P2 |

### 示例输出
| ID | 场景 | 前置条件 | 操作 | 期望结果 | 优先级 |
|-----|-----|---------|-----|---------|-------|
| TC-001 | 正常发表评论 | 用户已登录 | 输入100字评论并提交 | 评论显示在列表顶部 | P0 |
| TC-002 | 空评论 | 用户已登录 | 不输入内容点提交 | 按钮禁用 | P0 |
| TC-003 | 超长评论 | 用户已登录 | 输入501字 | 提示超出限制 | P1 |
```

---

## 生成要点

### 格式规范
- 格式越严格，AI 越不容易跑偏
- 提供结构模板，不要让 AI 自己发挥

### 必须项 vs 可选项
- 必须项 = 没有就是不合格
- 可选项 = 有则更好

### 示例的作用
- 一个好示例 > 十条规则
- 示例要典型，覆盖常见情况
